# makl_unset_var_h name
#
#   Unset 'name' in ${makl_conf_h}.
#   $1 - symbol to unset
#   No return value.
#
makl_unset_var_h ()
{
    makl_dbg "unsetting $1 in ${makl_conf_h}"
    echo "#undef $1" >> ${makl_conf_h}
}

# makl_unset_var_mk name
#
#   Unset 'name' in ${makl_makefile_conf}.
#   $1 - symbol to unset
#   No return value.
#
makl_unset_var_mk ()
{
    makl_dbg "unsetting $1 in ${makl_makefile_conf}"

    # grep with a trailing space after the symbol to avoid wiping out symbols
    # with a matching substring.
    grep -v "$1 " ${makl_makefile_conf} > ${makl_run_dir}/Makefile.conf.tmp
    cp ${makl_run_dir}/Makefile.conf.tmp ${makl_makefile_conf}
}

# makl_unset_var name
#
#   Unset 'name' in both ${makl_makefile_conf} and ${makl_conf_h}
#   $1 - symbol to unset
#   Return '0' on success, '1' otherwise.
#
makl_unset_var ()
{
    if [ ! "$1" -o -z "$1" ]; then
        makl_warn "makl_unset_var called with no argument"
        return 1
    fi
   
    makl_unset_var_h  $1
    makl_unset_var_mk $1

    return 0
}
