#
# $Id: Makefile,v 1.9 2006/09/24 13:42:35 tat Exp $
#

SUBDIRS = doc
MAKL_ROOT_DIR = ${shell pwd}
MAKL_VERSION = ${shell cat ${MAKL_ROOT_DIR}/VERSION}

all:
	@echo
	@echo "# MaKL version ${MAKL_VERSION} - (c) 2005 - KoanLogic srl"
	@echo "Available targets:"
	@echo
	@echo "   * hints       output environment variables"
	@echo "   * toolchain   install platform toolchain files"
	@echo "   * clean       remove autogenerated toolchain files"
	@echo
ifndef MAKL_DIR
	@echo "In order for MaKL to run properly, you must set the MAKL_DIR"
	@echo "environment variable.  Type 'make hints' to get an help."
	@echo
endif    

toolchain:
	@setup/shlib_setup.sh ${MAKL_PLATFORM}
	@setup/toolchain_setup.sh ${MAKL_PLATFORM}

hints:
	@setup/shell_setup.sh ${MAKL_ROOT_DIR}

clean:
	rm -f ${MAKL_ROOT_DIR}/etc/toolchain.mk
	rm -f ${MAKL_ROOT_DIR}/etc/toolchain.cf
	rm -f ${MAKL_ROOT_DIR}/mk/shlib.mk
